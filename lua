------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function SearchWrite(Search, Write, Type)
  gg.clearResults()
  gg.setVisible(false)
  gg.searchNumber(Search[1][1], Type)
  local count = gg.getResultCount()
  local result = gg.getResults(count)
  gg.clearResults()
  local data = {}
  local base = Search[1][2]
  if (count > 0) then
    for i, v in ipairs(result) do
      v.isUseful = true
    end
    for k=2, #Search do
      local tmp = {}
      local offset = Search[k][2] - base
      local num = Search[k][1]
      for i, v in ipairs(result) do
        tmp[#tmp+1] = {}
        tmp[#tmp].address = v.address + offset
        tmp[#tmp].flags = v.flags
      end tmp = gg.getValues(tmp)
      for i, v in ipairs(tmp) do
        if ( tostring(v.value) ~= tostring(num) ) then
          result[i].isUseful = false
        end
      end
    end
    for i, v in ipairs(result) do
      if (v.isUseful) then
        data[#data+1] = v.address
      end
    end
    if (#data > 0) then
      gg.toast("اكو "..#data.."")
      local t = {}
      local base = Search[1][2]
      for i=1, #data do
        for k, w in ipairs(Write) do
          offset = w[2] - base
          t[#t+1] = {}
          t[#t].address = data[i] + offset
          t[#t].flags = Type
          t[#t].value = w[1]
          if (w[3] == true) then
            local item = {}
            item[#item+1] = t[#t]
            item[#item].freeze = true
            gg.addListItems(item)
          end
        end
      end
      gg.setValues(t)
     else
      --gg.toast("not found", false)
      return false
    end
   else
   -- gg.toast("Not Found")
    return false
  end
end
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

HOME = 1
function HOME()
  XS = gg.choice({
    " |[  صناديك خشبية  ]|",
    " |[  صناديك السودة  ]|",
    " |[  لؤلؤ  ]|",
    " |[  رماد  ]|",
    "|[  خروج  ]|",
  }, nil, "")
  if XS == nil then
   else
    if XS == 1 then N1() end
    if XS == 2 then N2() end
    if XS == 3 then N3() end
    if XS == 4 then N4() end
    if XS == 5 then CLOSE()
    end
  end
  PUBGMH = -1
end
function N1()
  gg.setRanges(4)
  local tb1 = {{'-1071197555' , '0'},{'1089482354' , '60'},}-- {'1089482354' , '195'}, }
  local tb2 = {{'1133903872' , '-236'}, }
  local dt = 4
  SearchWrite(tb1,tb2, dt)
end

function N2()
  gg.setRanges(4)
  local tb1 = {{'-1059896394', '0'}, {'1093002521', '60'}, }
  local tb2 = {{'1133903872', '-236'}, }
  local dt = 4
  SearchWrite(tb1,tb2, dt)
end
function N3()
  gg.setRanges(4)
  local tb1 = {{'-1065164473', '0'}, {'1090871362', '60'}, }
  local tb2 = {{'1133903872', '-236'}, }
  local dt = 4
  SearchWrite(tb1,tb2, dt)
end
function N4()
  gg.setRanges(4)
  local tb1 = {{'-1056723436','0'}, {'1093163021', '60'}, }
  local tb2 = {{'1133903872', '-236'}, }
  local dt = 4
  SearchWrite(tb1,tb2, dt)
end
-- ['REGION_ANONYMOUS'] = 32,
-- ['REGION_ASHMEM'] = 524288,
-- ['REGION_BAD'] = 131072,
-- ['REGION_CODE_APP'] = 16384,
-- ['REGION_CODE_SYS'] = 32768,
-- ['REGION_C_ALLOC'] = 4,
-- ['REGION_C_BSS'] = 16,
-- ['REGION_C_DATA'] = 8,
-- ['REGION_C_HEAP'] = 1,
-- ['REGION_JAVA'] = 65536,
-- ['REGION_JAVA_HEAP'] = 2,
-- ['REGION_OTHER'] = -1032320,
-- ['REGION_PPSSPP'] = 262144,
-- ['REGION_STACK'] = 64,

-- ['TYPE_AUTO'] = 127,
-- ['TYPE_BYTE'] = 1,
-- ['TYPE_DOUBLE'] = 64,
-- ['TYPE_DWORD'] = 4,
-- ['TYPE_FLOAT'] = 16,
-- ['TYPE_QWORD'] = 32,
-- ['TYPE_WORD'] = 2,

function CLOSE()
  gg.skipRestoreState()
  os.exit()
  gg.setVisible(true)
end
while true do
  if gg.isVisible(true) then
    PUBGMH = 1
    gg.setVisible(false)
  end
  gg.clearResults()
  if PUBGMH == 1 then
    HOME()
  end
end
